<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>🐾 사육곰 센터 9월 달력 (카테고리 컬러)</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<nav class="main-nav">
  <div class="nav-brand">
    <h1>🐾 사육곰 센터 관리 시스템</h1>
  </div>
  <div class="nav-menu">
    <a href="index.html" class="nav-item active">📅 일정 관리</a>
    <a href="inventory.html" class="nav-item">💼 사업 관리</a>
    <a href="facilities.html" class="nav-item">🏗️ 센터시설</a>
    <a href="procurement.html" class="nav-item">💰 지출 계약 조달 구매</a>
    <a href="memos.html" class="nav-item">📝 메모 관리</a>
  </div>
</nav>

<div class="page-header">
  <div class="month-navigation">
    <button id="prevMonth" class="month-nav-btn">◀ 이전월</button>
    <h2 id="currentMonthTitle">2025년 9월</h2>
    <button id="nextMonth" class="month-nav-btn">다음월 ▶</button>
  </div>
  <div class="subtitle" id="currentSubtitle">카테고리별 색상으로 구분된 월간 계획</div>
</div>

<div class="main-content">
<div class="workflow-controls">
  <button id="connectBtn" class="workflow-btn">🔗 워크플로우 연결</button>
  <button id="clearConnectionsBtn" class="workflow-btn">🗑️ 연결선 지우기</button>
</div>

<div class="legend">
  <div class="item"><span class="chip cat-인사"></span>인사</div>
  <div class="item"><span class="chip cat-협약MOU"></span>협약 / MOU</div>
  <div class="item"><span class="chip cat-외부업체방문"></span>외부 업체 방문</div>
  <div class="item"><span class="chip cat-조달설치"></span>조달 / 설치</div>
  <div class="item"><span class="chip cat-gom입식and개소"></span>곰 입식 & 개소</div>
  <div class="item"><span class="chip cat-출장시공"></span>출장 / 시공</div>
</div>

<div id="eventModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>일정 관리</h3>
      <span class="close">&times;</span>
    </div>
    <form id="eventForm">
      <div class="form-group">
        <label>일정 제목:</label>
        <input type="text" id="eventTitle" required>
      </div>
      <div class="form-group">
        <label>카테고리:</label>
        <select id="eventCategory">
          <option value="인사">인사</option>
          <option value="협약MOU">협약 / MOU</option>
          <option value="외부업체방문">외부 업체 방문</option>
          <option value="조달설치">조달 / 설치</option>
          <option value="gom입식and개소">곰 입식 & 개소</option>
          <option value="출장시공">출장 / 시공</option>
        </select>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-primary">저장</button>
        <button type="button" class="btn btn-danger" id="deleteEvent" style="display: none;">삭제</button>
      </div>
    </form>
  </div>
</div>
<table id="calendarTable">
  <thead>
    <tr>
      <th>일요일</th>
      <th>월요일</th>
      <th>화요일</th>
      <th>수요일</th>
      <th>목요일</th>
      <th>금요일</th>
      <th>토요일</th>
    </tr>
  </thead>
  <tbody id="calendarBody">
    <!-- 달력 내용이 JavaScript로 동적 생성됩니다 -->
  </tbody>
</table>

<!-- SVG 화살표 마커 및 그라디언트 정의 -->
<svg class="arrow-markers" style="position: absolute; width: 0; height: 0;">
  <defs>
    <!-- 기본 연결선 그라디언트 -->
    <linearGradient id="connectionGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#667eea;stop-opacity:1" />
    </linearGradient>
    
    <!-- 연결 중 그라디언트 -->
    <linearGradient id="connectingGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#0891b2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
    </linearGradient>
    
    <!-- 기본 화살표 -->
    <marker id="arrowhead" markerWidth="12" markerHeight="8" refX="12" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4, 0 8" fill="url(#connectionGradient)" stroke="none" />
    </marker>
    
    <!-- 큰 화살표 (호버용) -->
    <marker id="arrowheadBig" markerWidth="14" markerHeight="10" refX="14" refY="5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 14 5, 0 10" fill="url(#connectionGradient)" stroke="none" />
    </marker>
  </defs>
</svg>

<!-- 워크플로우 연결선을 위한 SVG 컨테이너 -->
<svg id="connectionSvg" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 100;"></svg>
</div>

<script type="module" src="neon-database.js"></script>
<script src="calendar.js"></script>

</body>
</html>